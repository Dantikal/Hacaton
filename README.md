# Хакатон Сайт

Система для управления хакатоном с функциями регистрации участников, создания команд, общения в чате и администрирования.

## Основные функции

### Для участников:
- ✅ Регистрация и аутентификация
- ✅ Создание и управление профилем
- ✅ Создание команд
- ✅ Присоединение к командам
- ✅ Чат для общения внутри команды
- ✅ Просмотр новостей и расписания

### Для администраторов:
- ✅ Управление пользователями
- ✅ Публикация новостей
- ✅ Управление расписанием мероприятий
- ✅ Создание и распределение задач
- ✅ Модерация контента

## Технологический стек

- **Backend**: Django 4.2.7
- **Frontend**: Bootstrap 5, Font Awesome
- **Database**: SQLite (для разработки)
- **Additional**: Pillow для загрузки изображений

## Структура проекта

```
hackathon_site/
├── accounts/          # Управление пользователями и профилями
├── teams/             # Управление командами
├── news/              # Новости, расписание, задачи
├── chat/              # Система чата
├── static/            # Статические файлы (CSS, JS, изображения)
├── templates/         # HTML шаблоны
└── hackathon_site/    # Основные настройки проекта
```

## Установка и запуск

1. Клонирование репозитория:
```bash
git clone <repository-url>
cd hackathon_site
```

2. Создание виртуального окружения:
```bash
python -m venv venv
source venv/bin/activate  # для Windows: venv\Scripts\activate
```

3. Установка зависимостей:
```bash
pip install -r requirements.txt
```

4. Выполнение миграций:
```bash
python manage.py makemigrations
python manage.py migrate
```

5. Создание суперпользователя:
```bash
python manage.py createsuperuser
```

6. Запуск сервера:
```bash
python manage.py runserver
```

## Данные для входа

**Администратор:**
- Логин: `admin`
- Пароль: `admin123`

## Основные URL

- Главная страница: `/`
- Регистрация: `/accounts/register/`
- Вход: `/accounts/login/`
- Профиль: `/accounts/profile/`
- Команды: `/teams/`
- Чат команды: `/chat/team/<team_id>/`
- Админ-панель: `/admin/`

## Модели данных

### User (accounts)
- Расширенная модель пользователя с ролями (участник/администратор)
- Поля: skills, about, team

### Team (teams)
- Название, описание, лидер, макс. количество участников
- Связь с пользователями через внешние ключи

### News (news)
- Заголовок, контент, автор, изображение, статус публикации

### Schedule (news)
- Мероприятия с датами, местом, важностью

### Task (news)
- Задачи со статусами, приоритетами, исполнителями

### ChatRoom & Message (chat)
- Комнаты чата для каждой команды
- Сообщения с автором и временем создания

## Дополнительные функции

### Система приглашений в команды
- Лидер команды может принимать/отклонять запросы на присоединение
- Автоматическая проверка заполненности команды

### Реальное время в чате
- AJAX обновление сообщений каждые 5 секунд
- Отправка сообщений без перезагрузки страницы

### Админ-панель
- Полное управление всеми моделями
- Фильтрация и поиск по всем полям
- Удобный интерфейс для модерации

## Разработка

### Добавление новых функций
1. Создайте новую модель в соответствующем приложении
2. Обновите формы и views
3. Добавьте URL маршруты
4. Создайте шаблоны
5. Обновите админ-панель

### Статические файлы
- CSS: `static/css/style.css`
- JavaScript: `static/js/main.js`
- Изображения: `static/images/`

## Деплоймент

### Heroku Deployment

1. Установите Heroku CLI и войдите:
```bash
heroku login
```

2. Создайте Heroku приложение:
```bash
heroku create your-app-name
```

3. Установите переменные окружения:
```bash
heroku config:set SECRET_KEY=your-secret-key-here
heroku config:set ALLOWED_HOSTS=your-app-name.herokuapp.com
heroku config:set DJANGO_SETTINGS_MODULE=hackathon_site.production
```

4. Добавьте PostgreSQL addon:
```bash
heroku addons:create heroku-postgresql:hobby-dev
```

5. Отправьте код в Heroku:
```bash
git add .
git commit -m "Deploy to Heroku"
git push heroku main
```

6. Запустите миграции на Heroku:
```bash
heroku run python manage.py migrate
```

7. Создайте суперпользователя на Heroku:
```bash
heroku run python manage.py createsuperuser
```

### Переменные окружения

Скопируйте `.env.example` в `.env` и настройте:

- `SECRET_KEY`: Секретный ключ Django
- `ALLOWED_HOSTS`: Разделенный запятыми список разрешенных хостов
- `DATABASE_URL`: Строка подключения к PostgreSQL
- Настройки email (опционально)

### Настройки для продакшена

Проект использует специальные настройки для продакшена в `hackathon_site/production.py`:

- Оптимизации безопасности
- Конфигурация базы данных через переменные окружения
- Отдача статических файлов через Whitenoise
- Конфигурация логирования
- Настройки SSL/HTTPS

### Зависимости для продакшена

- Django 4.2.7
- Pillow 10.1.0
- python-decouple 3.8
- dj-database-url 2.1.0
- gunicorn 21.2.0
- psycopg2-binary 2.9.9
- whitenoise 6.6.0

### Альтернативные варианты деплоя

**PythonAnywhere:**
1. Загрузите код через Git
2. Настройте виртуальное окружение
3. Установите зависимости
4. Настройте WSGI приложение
5. Настройте статические файлы

**DigitalOcean/App Platform:**
1. Создайте новое приложение
2. Подключите GitHub репозиторий
3. Настройте переменные окружения
4. Выберите план и разверните

Для продакшн развертывания рекомендуется:
1. Использовать PostgreSQL вместо SQLite
2. Настроить Nginx + Gunicorn
3. Настроить переменные окружения
4. Включить DEBUG=False
5. Настроить статические файлы

## Лицензия

MIT License
